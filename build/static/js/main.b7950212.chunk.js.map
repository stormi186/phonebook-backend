{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","newFilter","handleFilterChange","Person","person","toggleDelete","name","number","onClick","Persons","personsToShow","toggleDeleteOf","map","key","id","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","errorType","setErrorType","useEffect","personService","initialPersons","filter","toLowerCase","includes","event","target","preventDefault","personObject","find","o","returnedPerson","concat","setTimeout","catch","error","window","confirm","changedPerson","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b7950212.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ( {addPerson, newName, newNumber, handleNameChange, handleNumberChange} ) => {\n\n  return (\n    <form onSubmit={addPerson}>\n    <div>\n      name: <input value={newName} onChange={handleNameChange} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ( {newFilter, handleFilterChange} ) => {\n\n  return (\n    <div>\n      filter show with: <input value={newFilter} onChange={handleFilterChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Person = ({ person, toggleDelete }) => {\n  \n  return (\n    <p>{person.name} {person.number} <button onClick={toggleDelete}>Delete</button></p>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ personsToShow, toggleDeleteOf } ) => {\n\n  const rows = () => personsToShow.map(person =>\n    <Person key={person.name} person={person} toggleDelete={() => toggleDeleteOf(person.id)} />\n  )\n\n  return (\n    <div>\n      {rows()}\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  if (message === '' || message === null) {\n    return null\n  }\n\n  if (type === 'success') {\n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  }\n  else {\n    return (\n      <div className=\"fail\">\n        {message}\n      </div>\n    )\n  }\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState('')\n  const [ errorType, setErrorType ] = useState('fail')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const person = persons.find(o => o.name === newName)\n\n    if(typeof person === 'undefined') {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setErrorType('success')\n          setErrorMessage(\n            `Added '${newName}'`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)  \n        })\n        .catch(error => {\n          setErrorType('fail')\n          setErrorMessage(error.response.data.error)\n        }) \n      }\n    else {\n      let result = window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one ?`)\n      if (result) {\n        const changedPerson = { ...person, number: newNumber }\n        const id = person.id\n        personService\n        .update(id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          setErrorType('success')\n          setErrorMessage(\n            `Updated phone for '${newName}'`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorType('fail')\n          setErrorMessage(\n            `The person: '${person.name}' was already deleted from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(n => n.id !== id))\n        })\n      }\n    }\n  \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const toggleDeleteOf = id => {\n    const person = persons.find(n => n.id === id)\n    let result = window.confirm(`Delete ${person.name} ?`)\n \n    if (result) {\n      personService\n        .deletePerson(id)\n        .then(returnedPerson => {\n          setPersons(persons.filter(n => n.id !== id))\n          setErrorType('success')\n          setErrorMessage(\n            `Deleted '${person.name}'`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          })\n        .catch(error => {\n          setErrorType('fail')\n          setErrorMessage(\n            `The person: '${person.name}' was already deleted from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(n => n.id !== id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} type={errorType} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} toggleDeleteOf={toggleDeleteOf} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}